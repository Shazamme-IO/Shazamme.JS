(()=>{const e="1.0.0",t={submit:"screening-question-smart-recruiters-apply"};shazamme.style(`https://sdk.shazamme.io/js/plugin/screening-question-smart-recruiters/${e}/plugin.css`).then(),shazamme.plugin={...shazamme.plugin,screeningQuestions:(a,n)=>{const s=n?.candidateID,i=n?.collection||{},o=n?.config||{},r=n?.container||$('<div data-rel="screening-fields"></div>'),l=!0===n?.editing,c=n?.jid,d=this;this.pageNumber=0,this.isValid=!0;const u=()=>{this._showQuestions(this.pageNumber+1)},p=()=>{this._showQuestions(this.pageNumber-1)},b=()=>{let e=[];this._recordAnswers();for(let t in this._answers){let a={...this._answers[t]};"object"==typeof a.answerUUID&&a.answerUUID.length>0?e.push(...a.answerUUID.map((e=>new Object({sRQuestionID:a.screeningQuestionID,key:"Value",value:e,candidateID:s})))):e.push(a)}return e},h=()=>{},f=e=>{let t=this.answers.map((e=>d._ko.find((t=>t.screeningQuestionID===e.screeningQuestionID&&("Text"===t.questionType&&e.answerText?.toLowerCase()===t.knockOutText?.toLowerCase()||"Number"===t.questionType&&e.answerNum===t.knockOutNumber||"Date"===t.questionType&&e.answerDate===t.knockOutDate||"Boolean"===t.questionType&&e.answerBoolean===t.knockOutBoolean||"List"===t.questionType&&e.answerUUID===t.knockOutList||"Multiselect Checkbox"===t.questionType&&(e.answerUUID?.indexOf(t.knockOutList)>=0||e.answerBoolean===t.knockOutBoolean)||"Radio"===t.questionType&&e.answerUUID===t.knockOutList))))).filter((e=>e));if(t?.length>0)return a.config().then((e=>{t.forEach((t=>{let a=e?.knockout?.find((e=>e.screeningQuestionID===t.screeningQuestionID));a?.alert?.length>0&&(site?.alertDialog({title:o?.screeningWarningTitle||"Error",message:a.alert,onClose:()=>{if(a?.redirect?.length>0){let e=l?`/site/${dudaAlias}${a.redirect}?preview=true&insitepreview=true&dm_device=desktop`:a.redirect;window.location=e}}})||(()=>{if(alert(a.alert),a?.redirect?.length>0){let e=l?`/site/${dudaAlias}${a.redirect}?preview=true&insitepreview=true&dm_device=desktop`:a.redirect;window.location=e}})())}))})),!1},g=()=>{let e=!0;return r.find("input[required], select[required], button[required]").each(((t,a)=>{let n=$(a);switch(n.attr("data-qtype")){case"text":case"select":{let t=n.val();e=e&&t&&t.trim().length>0;break}case"bool":e=e&&n.is(":checked");break;case"number":e=e&&!isNaN(n.val());break;case"date":{let t=Date.parse(n.val());e=e&&!isNaN(t);break}case"radio":e=e&&r.find(`input[type=radio][name=${n.attr("name")}]`).is(":checked");break;case"file":e=e&&d._answers[n.attr("data-qid")]?.answerFile?.length>0}})),e};return this._pages=[],this._maxPage=0,this._answers=[],this._screeningTemplateID=void 0,this._fetchQuestions=()=>new Promise((e=>{(l&&!c&&Promise.resolve(JSON.parse('{"items":[{"sRQuestionsID": "ece81c14-cc13-4c11-8329-00b551164e19","question": "Do you agree for these checks to be conducted?","questionType": "RADIO","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 51},{"sRQuestionsID": "150c4af8-14ec-4016-9645-06135c05c579","question": "Do you identify yourself as a person with a disability?","questionType": "SINGLE_SELECT","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 60},{"sRQuestionsID": "a5fce0ca-18a2-4ecc-8f35-071fb3da825f","question": "Do you identify as Aboriginal or Torres Strait Islander?","questionType": "RADIO","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 70},{"sRQuestionsID": "ec700817-628b-4877-8a48-1b99907e11b5","question": "Languages","questionType": "INPUT_TEXT","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 39},{"sRQuestionsID": "ec700817-628b-4877-8a48-1b99907e11b5","question": "Languages","questionType": "SINGLE_SELECT","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 39},{"sRQuestionsID": "6281ddaa-b86f-4567-a91f-2eb6b1feda1b","question": "Do you hold a current Drivers Licence in the country in which this role is located?","questionType": "RADIO","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 10},{"sRQuestionsID": "68a478fb-7a7c-4c98-bb0f-407b86187a12","question": "I hereby certify that the above is true and correct and will be held by Global Express in the strictest confidence in accordance with the Privacy Act.\\n\\nI accept that if any of the information given by me in this application is in any way false or incorrect, any offer of employment may be withdrawn or my employment with Global Express may be terminated summarily or I may be dismissed.\\n\\nBy continuing, you agree that you have read our Privacy Policy, and consent to Global Express collecting, using and disclosing your personal information as set our in that policy.\\n\\nFor the avoidance of doubt, you consent to the collection, use, process and/or disclosure of your personal data by Global Express for the purposes of assessing and evaluating your suitability for employment in any current or prospective position within the organisation and verifying your identity and the accuracy of your personal details and other information provided in this questionnaire.","questionType": "CHECKBOX","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 55},{"sRQuestionsID": "7c70a592-75b2-4b95-831f-43e90363d930","question": "Gender","questionType": "SINGLE_SELECT","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 74},{"sRQuestionsID": "4ea81f20-901c-4cf1-8c03-66b2d2c3a4a1","question": "What is your notice period?","questionType": "SINGLE_SELECT","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 33},{"sRQuestionsID": "bd2c4f99-b4f2-494d-ad82-7a60a9af0ddb","question": "What is your expected annual base salary?","questionType": "SINGLE_SELECT","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 22},{"sRQuestionsID": "76421ccd-d76c-4340-a507-7bd0badb7fc7","question": "Have you worked for Global Express before?","questionType": "RADIO","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 14},{"sRQuestionsID": "770c4f57-af8d-4f98-8674-7c4fc4ffb3e2","question": "Do you require any adjustments to be made in order to participate in the recruitment process, or to perform the necessary requirements of the role?","questionType": "SINGLE_SELECT","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 65},{"sRQuestionsID": "e7878629-26cc-489a-a471-828c37f17b51","question": "Are you currently employed at Global Express either Permanently or via a third party supplier (Contractor, Consultant)?","questionType": "RADIO","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 18},{"sRQuestionsID": "9eee4a24-2713-4bb4-8e39-9eb086c49315","question": "Please attach relevant documents to support your application such as working rights visa and identification","questionType": "INFORMATION","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 8},{"sRQuestionsID": "0769000e-d49c-4305-a54d-c5d98cf6732d","question": "At Global Express Safety is at the forefront of everything we do. The provision of background checks (including police probity checks) and a medical assessment is a minimum standard requirment for obtaining or continuing direct employment or engagement with Global Express.","questionType": "INFORMATION","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 49},{"sRQuestionsID": "c9c1a48f-8199-4eb6-b438-e84697a7dcaf","question": "DIVERSITY AND INCLUSION\\nIdentification in any of these groups is optional and will be shared with the recruitment team or hiring manager where appropriate.\\n\\nThe information is used for the purposes of supporting increased accessibility of employment opportunities for candidates with a disability and for internal statistical reporting on diversity.\\n\\nThis reporting will not identify you or any other individual.","questionType": "INFORMATION","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 58},{"sRQuestionsID": "65f8fcb7-9348-422f-9cad-f33c2b3d4793","question": "Are you currently authorised to work in the country in which this role is located?","questionType": "SINGLE_SELECT","jobID": "af0513c3-c16e-4577-b5fc-0f76a1bbfc07","siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","sortOrder": 2}],"message": null,"validations":[],"status": 200}'))||shazamme.fetch(i.questions)).then((e=>Promise.resolve(e?.filter((e=>l&&!c||e.data.jobID===c))))).then((t=>{t?.length>0&&(d._pages[0]||(d._pages[0]=[]),d._pages[0]=d._pages[0].concat(t.map((e=>e.data))),d._ko=t.filter((e=>e.knockOutDate||e.knockOutList||e.knockOutText||e.knockOutNumber||null!==e.knockOutBoolean))),e()}))})),this._showQuestions=(e,a=!0)=>{if(e>this.pageNumber&&!g()){let e=o?.warningScreeningQuestions||"Please answer all questions";return void(site?.alertDialog({title:o?.warningScreeningQuestionsTitle||"Error",message:e})||alert(e))}this._recordAnswers(),e>this._maxPage&&(this._maxPage=e);let n=(this._pages[e]||[]).filter((e=>!e.parentQuestionID||d._answers[e.parentQuestionID])).map((e=>d._questionEl({...e,options:e.srscreeningquestionvalues?.filter((t=>!e.parentQuestionID||d._answers[e.parentQuestionID].answerUUID?.indexOf(t.parentOptionID)>=0))||[]})));r.empty().append(n).append(d._pagingElements(e)),r.find(".sq-help-text[collapsible]").each((function(e,t){let a=$(t),n=$(a).outerHeight();a.find(".text-main").attr("style",`--shaz-help-text-lines: ${o.helpTextLines||3}`),a.outerHeight()<n&&a.addClass("collapsible").on("click","[data-rel=button-show-more]",(function(){$(this);a.hasClass("expanded")?(a.find(".text-main").css({display:"-webkit-box"}),a.removeClass("expanded")):(a.find(".text-main").css({display:"block"}),a.addClass("expanded"))}))})),r.find("[data-rel=screening-page-index]").click((function(){let e=parseInt($(this).attr("data-page"))||0;d._showQuestions(e)})),r.find("[data-qtype=file]").on("click",(function(){let e=$(this),t=e.attr("data-qid");const a=shazamme.bag("site-config")?.message;shazamme.pub(a?.uploadShow,{showFiles:!0});let n=shazamme.sub(a?.uploadSubmit,(a=>{shazamme.unsub(n),shazamme.unsub(i),a?.length>0&&(d._answers[t]={sRQuestionID:t,key:"Value",value:a[0].content,candidateID:s,answerFileName:a[0].name},e.hide().parents(".input-field-container").find("[data-rel=file-list]").empty().append(_fileEl(a[0]).on("click","[data-rel=action-remove]",(function(){delete d._answers[t],e.show(),$(this).parents("article").remove()}))))})),i=shazamme.sub(a?.uploadCancel,(()=>{shazamme.unsub(n),shazamme.unsub(i)}))})),this._pages[e]?.find((e=>e.parentQuestionID))&&r.find("input, select").on("change",(function(){d._recordAnswers(),d._showQuestions(e,!1)})),r.find("[data-rel=screening-apply]").click((function(){if(g())shazamme.pub(t.submit);else{let e=o?.warningScreeningQuestions||"Please answer all questions";site?.alertDialog({title:o?.warningScreeningQuestionsTitle||"Error",message:e})||alert(e)}})),a&&(r.get(0).scrollIntoView(),window.scrollBy({top:-200,behavior:"smooth"})),this._restoreAnswers(),this.pageNumber=e},this._questionEl=e=>{switch(e.questionType){case"INPUT_TEXT":return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">\n                                    ${e.question}\n                                </label>\n                                <input class="sq-input-text-style" type="text" maxlength=${e.length||-1} autocomplete="nope" data-qtype="text" data-qid="${e.sRQuestionsID}" ${e.isMandatory?"required":""} />\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${o.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${o.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                            </div>\n                        `;case"TEXTAREA":return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">\n                                    ${e.question}\n                                </label>\n                                <textarea class="sq-input-text-style" type="text" maxlength=${e.length||-1} autocomplete="nope" data-qtype="text" data-qid="${e.sRQuestionsID}" ${e.isMandatory?"required":""} ></textarea>\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${o.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${o.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                            </div>\n                        `;case"NUMBER":return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">\n                                    ${e.question}\n                                </label>\n                                <input type="number" autocomplete="nope" data-qtype="number" data-qid="${e.sRQuestionsID}" ${e.isMandatory?"required":""} />\n                                </label>\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${o.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${o.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                            </div>\n                        `;case"DATE":return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">\n                                    ${e.question}\n                                </label>\n                                <input type="date" autocomplete="nope" data-qtype="date" data-qid="${e.sRQuestionsID}" ${e.isMandatory?"required":""} />\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${o.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${o.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                            </div>\n                        `;case"CHECKBOX":return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">\n                                    ${e.question}\n                                </label>\n                                <input type="checkbox" autocomplete="nope" data-qtype="bool" data-qid="${e.sRQuestionsID}" ${e.isMandatory?"required":""}  />\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${o.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${o.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                            </div>\n                        `;case"SINGLE_SELECT":{let t=e.options.map((e=>`<option value="${e.value}">${e.label||e.option}</option>`));return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">${e.question}</label>\n                                <select data-qtype="list" data-qid="${e.sRQuestionsID}" ${e.isMandatory?"required":""}>${t.join("")}</select>\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${o.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${o.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                             </div>\n                        `}case"MULTI_SELECT":{let t=e.options.map((t=>`<label><input type="checkbox" autocomplete="nope" data-qtype="check-list" data-qid="${e.sRQuestionsID}" data-value="${t.value}" />${t.label||t.option}</label>`));return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">\n                                    ${e.question}\n                                </label>\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${o.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${o.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                                ${t.join("")}\n                             </div>\n                        `}case"RADIO":{let t=e.options.map((t=>`<label class="sq-question-option"><input type="radio" data-qtype="radio" name="${e.sRQuestionsID}" data-qid="${e.sRQuestionsID}" value="${t.value}" ${e.isMandatory?"required":""} />${t.label||t.option}</label>`));return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">\n                                    ${e.question}\n                                </label>\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${o.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${o.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                                <div class="sq-opt-list">${t.join("")}</div>\n                             </div>\n                        `}case"INFORMATION":return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">\n                                    ${e.question}\n                                </label>\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${o.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${o.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                             </div>\n                        `;case"FILE":return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">\n                                    ${e.question}\n                                </label>\n\n                                <button class="file" data-qtype="file" data-qid="${e.sRQuestionsID}" ${e.isMandatory?"required":""}>\n                                    <span class="text">${o?.uploadButtonText||"Select..."}</span>\n                                </button>\n\n                                <div class="sq-file-list" data-rel="file-list"></div>\n\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${o.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${o.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                            </div>\n                        `;case"HEADER":return`<div class='screening-question-heading'><h3>${e.question}</h3</div>`;default:return""}},this._fileEl=e=>$(`\n                    <article class="item-file">\n                        <span class="text">${e.name||"(unknown)"}</span>\n                        <button class="action-remove" data-rel="action-remove"><span class="text">X</span></button>\n                    </article>\n                `),this._pagingElements=e=>{let t=[];if(t.push("<div data-rel='screening-pages' class='screening-pages-container'>"),e>0&&t.push(`<a href='javascript:void(0);' class="button-page-nav back" data-rel='screening-page-index' data-page='${e-1}'>Back</a>`),this._pages.length>0&&e<this._pages.length-1?t.push(`<a href='javascript:void(0);' class="button-page-nav forward" data-rel='screening-page-index' data-page='${e+1}'>Next</a>`):o.showApply&&t.push("<a href='javascript:void(0);' class=\"button-page-nav forward apply\" data-rel='screening-apply'>Apply</a>"),this._pages.length>1){let a=new Array(this._maxPage+1);for(let t=0;t<a.length;t++)a[t]=`<a href='javascript:void(0);' class="button-page-index ${t===e?"active":""}" data-rel='screening-page-index' data-page='${t}'></a>`;for(let e=a.length;e<this._pages.length;e++)a[e]="<a href='javascript:void(0);' class=\"button-page-index disabled\"></a>";t.push(`<div class="sq-pages-index">${a.join("")}</div>`)}return t.push("</div>"),t.join("")},this._presentList=e=>{e.map((e=>`\n                    <div>\n                        <input type="checkbox" data-value="${e.value}" />\n                        ${e.label||e.option}\n                    </div>\n                `));let t=`\n                    <div data-rel="dialog-answer-list">\n                        <div class="list-options">${ops.join("")}</div>\n                        <input type="button">OK</button>\n                    </div>\n                `;$(t).appendTo($(element))},this._recordAnswers=()=>{r.find("input, select").each(((e,t)=>{let a=$(t);switch(a.attr("data-qtype")){case"text":case"date":case"list":a.val()?d._answers[a.attr("data-qid")]={sRQuestionID:a.attr("data-qid"),key:"Value",value:a.val(),candidateID:s}:delete d._answers[a.attr("data-qid")];break;case"number":a.val()?d._answers[a.attr("data-qid")]={sRQuestionID:a.attr("data-qid"),key:"Value",value:parseInt(a.val()),candidateID:s}:delete d._answers[a.attr("data-qid")];break;case"bool":d._answers[a.attr("data-qid")]={sRQuestionID:a.attr("data-qid"),key:"Value",value:a.is(":checked"),candidateID:s};break;case"check-list":{let e=a.attr("data-qid"),t=d._answers[e]?.answerUUID||[];a.is(":checked")?t.indexOf(a.attr("data-value"))<0&&t.push(a.attr("data-value")):t.indexOf(a.attr("data-value"))>=0&&t.splice(t.indexOf(a.attr("data-value")),1),0===t.length?delete d._answers[a.attr("data-qid")]:d._answers[e]={sRQuestionID:a.attr("data-qid"),key:"Value",value:t,candidateID:s};break}case"radio":a.is(":checked")&&(d._answers[a.attr("data-qid")]={sRQuestionID:a.attr("data-qid"),key:"Value",value:a.attr("value"),candidateID:s})}}))},this._restoreAnswers=()=>{for(let e in d._answers){let t=d._answers[e];if(e=e.split(":")[0],0===r.find(`input[data-qid=${e}]:visible, select[data-qid=${e}]:visible`).length){delete d._answers[e];continue}let a=r.find(`input[data-qid=${e}]`);switch(a.attr("data-qtype")){case"text":case"number":case"date":a.val(t.value);break;case"bool":a.attr("checked",!0);break;case"list":case"check-list":case"radio":r.find(`input[data-qid=${e}][value=${t.value}]`).attr("checked",!0),r.find(`select[data-qid=${e}]`).val(t.value);break;case"file":a.val(this._fileBlob(t.value))}}},this._readFile=e=>new Promise((t=>{let a=new FileReader;a.addEventListener("load",(()=>{t(btoa(a.result))}),!1),a.readAsBinaryString(e)})),this._fileBlob=(e,t="",a=512)=>{const n=atob(e),s=[];for(let e=0;e<n.length;e+=a){const t=n.slice(e,e+a),i=new Array(t.length);for(let e=0;e<t.length;e++)i[e]=t.charCodeAt(e);const o=new Uint8Array(i);s.push(o)}return new Blob(s,{type:t})},this._showEditor=()=>{const e=$('\n                    <div class="dialog dialog-knockout editor-only" data-rel="dialog" data-dialog="knockout">\n                        <div class="content" data-rel="dialog-content"></div>\n\n                        <div class="buttons">\n                            <button class="submit" data-rel="button-submit"><span class="text">OK</span></button>\n                            <button class="dismiss" data-rel="button-dismiss"><span class="text">Cancel</span></button>\n                        </div>\n                    </div>\n                ').appendTo(r),t=e=>`\n                    <article data-rel="knockout" data-id="${e.screeningQuestionID}">\n                        <div class="row">\n                            <label>${e.question}</label>\n                            <label>${(e=>e.knockOutDate?new Date(e.knockOutDate).toLocaleDateString():e.knockOutList?e.options?.find((t=>t.screeningQuestionOptionsID===e.knockOutList))?.option:e.knockOutText?e.knockOutText:e.knockOutNumber?e.knockOutNumber:null!==e.knockOutBoolean?e.knockOutBoolean?"Yes":"No":"")(e)}</label>\n                        </div>\n\n                        <div class="row">\n                            <label>\n                                Message\n                                <input type="text" data-rel="alert" placeholder="Sorry, we can accept you at this time." value="${e.alert||""}" />\n                            </label>\n\n                            <label>\n                                Redirect (Leave blank for no redirect)\n                                <input type="text" data-rel="redirect" placeholder="/reject" value="${e.redirect||""}" />\n                            </label>\n                        </div>\n\n                        <div class="row">\n                            <label>\n                                Enable\n                                <input type="checkbox" data-rel="enable" ${e.alert?.length>0||e.redirect?.length>0?'checked="checked"':""} />\n                            </label>\n                        </div>\n                    </article>\n                `;0!==d._ko.length&&a.config().then((n=>{e.find("[data-rel=dialog-content]").empty().append(d._ko.map((e=>t({...e,...n?.knockout?.find((t=>t.screeningQuestionID===e.screeningQuestionID))})))),r.find(".button-editor").remove(),$("<button />").text("Edit Knockout Handling").addClass("button-editor").on("click",(function(){e.toggle()})).prependTo(r);const s=e=>{let t=$(e.target);$("<input />").attr({type:"checkbox","data-rel":"enable",checked:t.is(":checked")?"checked":null}).on("click",s).appendTo(t.parent()),t.remove()};e.find("[data-rel=enable]").on("click",s),e.find("[data-rel=button-submit]").on("click",(function(){let t=[];e.find("[data-rel=dialog-content] article [data-rel=enable]:checked").each(((e,a)=>{let n=$(a).parents("article");t.push({screeningQuestionID:n.attr("data-id"),alert:n.find("[data-rel=alert]").val(),redirect:n.find("[data-rel=redirect]").val()})})),a.config().then((e=>a.config({...e,knockout:t}))).then((()=>{n.knockout=t})),e.toggle()})),e.find("[data-rel=button-dismiss]").on("click",(function(){e.toggle(),e.find("[data-rel=dialog-content]").empty().append(d._ko.map((e=>t({...e,...n?.knockout?.find((t=>t.screeningQuestionID===e.screeningQuestionID))})))),e.find("[data-rel=enable]").on("click",s)}))}))},a.log(`Loading plugin: screening-question-smart-recruiters (${e})`),shazamme.bag("plugin-screening-question-smart-recruiters",{message:t,version:e}),this._fetchQuestions().then((()=>(this._showQuestions(0,!1),l&&this._showEditor(),Promise.resolve({nextPage:u,prevPage:p,answers:b,loadAnswers:h,knockout:f,container:r,validate:g,message:t,version:e}))))}}})();