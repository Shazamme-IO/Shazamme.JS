var $jscomp$this=this,$jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(f){return f.raw=f};$jscomp.createTemplateTagFirstArgWithRaw=function(f,l){f.raw=l;return f};$jscomp.arrayIteratorImpl=function(f){var l=0;return function(){return l<f.length?{done:!1,value:f[l++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};
$jscomp.makeIterator=function(f){var l="undefined"!=typeof Symbol&&Symbol.iterator&&f[Symbol.iterator];if(l)return l.call(f);if("number"==typeof f.length)return $jscomp.arrayIterator(f);throw Error(String(f)+" is not an iterable or ArrayLike");};$jscomp.arrayFromIterator=function(f){for(var l,k=[];!(l=f.next()).done;)k.push(l.value);return k};$jscomp.arrayFromIterable=function(f){return f instanceof Array?f:$jscomp.arrayFromIterator($jscomp.makeIterator(f))};
$jscomp.owns=function(f,l){return Object.prototype.hasOwnProperty.call(f,l)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,l,k){if(f==Array.prototype||f==Object.prototype)return f;f[l]=k.value;return f};$jscomp.getGlobal=function(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var l=0;l<f.length;++l){var k=f[l];if(k&&k.Math==Math)return k}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(f,l,k){if(!k||null!=f){k=$jscomp.propertyToPolyfillSymbol[l];if(null==k)return f[l];k=f[k];return void 0!==k?k:f[l]}};
$jscomp.polyfill=function(f,l,k,e){l&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(f,l,k,e):$jscomp.polyfillUnisolated(f,l,k,e))};$jscomp.polyfillUnisolated=function(f,l,k,e){k=$jscomp.global;f=f.split(".");for(e=0;e<f.length-1;e++){var q=f[e];if(!(q in k))return;k=k[q]}f=f[f.length-1];e=k[f];l=l(e);l!=e&&null!=l&&$jscomp.defineProperty(k,f,{configurable:!0,writable:!0,value:l})};
$jscomp.polyfillIsolated=function(f,l,k,e){var q=f.split(".");f=1===q.length;e=q[0];e=!f&&e in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var n=0;n<q.length-1;n++){var x=q[n];if(!(x in e))return;e=e[x]}q=q[q.length-1];k=$jscomp.IS_SYMBOL_NATIVE&&"es6"===k?e[q]:null;l=l(k);null!=l&&(f?$jscomp.defineProperty($jscomp.polyfills,q,{configurable:!0,writable:!0,value:l}):l!==k&&(void 0===$jscomp.propertyToPolyfillSymbol[q]&&(k=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[q]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(q):$jscomp.POLYFILL_PREFIX+k+"$"+q),$jscomp.defineProperty(e,$jscomp.propertyToPolyfillSymbol[q],{configurable:!0,writable:!0,value:l})))};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(f,l){for(var k=1;k<arguments.length;k++){var e=arguments[k];if(e)for(var q in e)$jscomp.owns(e,q)&&(f[q]=e[q])}return f};$jscomp.polyfill("Object.assign",function(f){return f||$jscomp.assign},"es6","es3");
(function(){var f={submit:"screening-question-apply"};shazamme.style("https://sdk.shazamme.io/js/plugin/screening-question/1.0.0/plugin.css").then();shazamme.plugin=Object.assign({},shazamme.plugin,{screeningQuestions:function(l,k){var e=$jscomp$this,q=null==k?void 0:k.jid,n=(null==k?void 0:k.config)||{},x=(null==k?void 0:k.collection)||{},z=!0===(null==k?void 0:k.editing),r=(null==k?void 0:k.container)||$('<div data-rel="screening-fields"></div>'),v=shazamme.bag("site-config");$jscomp$this.pageNumber=
0;$jscomp$this.isValid=!0;var C=function(){$jscomp$this._showQuestions($jscomp$this.pageNumber+1)},D=function(){$jscomp$this._showQuestions($jscomp$this.pageNumber-1)},B=function(){var a=[];$jscomp$this._recordAnswers();var h={},b;for(b in $jscomp$this._answers)h={a$jscomp$1:h.a$jscomp$1},h.a$jscomp$1=Object.assign({},$jscomp$this._answers[b]),"object"===typeof h.a$jscomp$1.answerUUID&&0<h.a$jscomp$1.answerUUID.length?a.push.apply(a,$jscomp.arrayFromIterable(h.a$jscomp$1.answerUUID.map(function(d){return function(c){return Object({screeningQuestionID:d.a$jscomp$1.screeningQuestionID,
answerUUID:c,screeningTemplateID:d.a$jscomp$1.screeningTemplateID})}}(h)))):a.push(h.a$jscomp$1);return a},E=function(a){return shazamme.site().then(function(h){return shazamme.submit({action:"Get Screening Answers",siteID:h.siteID,jobApplicationID:a})}).then(function(h){var b=[],d,c;null==h||null==(d=h.response)||null==(c=d.items)||c.forEach(function(g){b[g.screeningQuestionID]=g});$jscomp$this._answers=b;$jscomp$this._restoreAnswers();return Promise.resolve(b)})},F=function(){var a=B().map(function(h){return e._ko.find(function(b){var d,
c,g;return b.screeningQuestionID===h.screeningQuestionID&&("Text"===b.questionType&&(null==(d=h.answerText)?void 0:d.toLowerCase())===(null==(c=b.knockOutText)?void 0:c.toLowerCase())||"Number"===b.questionType&&h.answerNum===b.knockOutNumber||"Date"===b.questionType&&h.answerDate===b.knockOutDate||"Boolean"===b.questionType&&h.answerBoolean===b.knockOutBoolean||"List"===b.questionType&&h.answerUUID===b.knockOutList||"Multiselect Checkbox"===b.questionType&&(0<=(null==(g=h.answerUUID)?void 0:g.indexOf(b.knockOutList))||
h.answerBoolean===b.knockOutBoolean)||"Radio"===b.questionType&&h.answerUUID===b.knockOutList)})}).filter(function(h){return h});return 0<(null==a?void 0:a.length)?(l.config().then(function(h){a.forEach(function(b){var d,c=null==h?void 0:null==(d=h.knockout)?void 0:d.find(function(m){return m.screeningQuestionID===b.screeningQuestionID}),g;0<(null==c?void 0:null==(g=c.alert)?void 0:g.length)&&((null==v?0:v.alertDialog({title:(null==n?void 0:n.screeningWarningTitle)||"Error",message:c.alert,onClose:function(){var m;
0<(null==c?void 0:null==(m=c.redirect)?void 0:m.length)&&(window.location=z?"/site/"+dudaAlias+c.redirect+"?preview=true&insitepreview=true&dm_device=desktop":c.redirect)}}))||function(){alert(c.alert);var m;0<(null==c?void 0:null==(m=c.redirect)?void 0:m.length)&&(window.location=z?"/site/"+dudaAlias+c.redirect+"?preview=true&insitepreview=true&dm_device=desktop":c.redirect)}())})}),!1):!0},A=function(){var a=!0;r.find("input[required], select[required], button[required]").each(function(h,b){var d=
$(b);switch(d.attr("data-qtype")){case "text":case "select":d=d.val();a=a&&d&&0<d.trim().length;break;case "bool":a=a&&d.is(":checked");break;case "number":a=a&&!isNaN(d.val());break;case "date":d=Date.parse(d.val());a=a&&!isNaN(d);break;case "radio":a=a&&r.find("input[type=radio][name="+d.attr("name")+"]").is(":checked");break;case "file":var c,g;a=a&&0<(null==(c=e._answers[d.attr("data-qid")])?void 0:null==(g=c.answerFile)?void 0:g.length)}});return a};$jscomp$this._pages=[];$jscomp$this._maxPage=
0;$jscomp$this._answers=[];$jscomp$this._screeningTemplateID=void 0;$jscomp$this._fetchQuestions=function(){var a;null==v||null==(a=v.loadingDialog())||a.appendTo(r);return new Promise(function(h){(function(){return z&&!q&&Promise.resolve(JSON.parse('[{"data": {"screeningQuestionID": "439dc355-42c7-411f-b4ff-912c1890a67a","screeningTemplateID": "4aa422f0-a7ab-4b9c-a35b-b96d5828d859","question": "Type of Role","isSubQuestion": false,"parentQuestionID": null,"addedBy": "rick@shazamme.com","addedOn": "2023-10-26T21:50:57.967","changedBy": "khris.samaniego@nymbl.app","changedOn": "2023-11-06T15:50:54.07","knockOutDate": null,"knockOutList": null,"knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "Multiselect Checkbox","helpText": null,"sortOrder": 1,"isMandatory": true,"length": null,"isHelpTextCollapse": false,"siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","options":[{"screeningQuestionOptionsID": "d1f93da3-893c-47a1-b5c1-b056f0484de5","screeningQuestionID": "439dc355-42c7-411f-b4ff-912c1890a67a","option": "Temporary","sortOrder": null,"label": null,"parentOptionID": null},{"screeningQuestionOptionsID": "ad44ff5c-a8dc-4f0e-86d5-5ce8865b6b92","screeningQuestionID": "439dc355-42c7-411f-b4ff-912c1890a67a","option": "Contract","sortOrder": null,"label": null,"parentOptionID": null},{"screeningQuestionOptionsID": "7d347288-2419-4f1c-96b7-3c7a2af331e8","screeningQuestionID": "439dc355-42c7-411f-b4ff-912c1890a67a","option": "Perm","sortOrder": null,"label": null,"parentOptionID": null}]}},{"data": {"screeningQuestionID": "9a40b9c4-7e73-4a58-998a-37dbabd98207","screeningTemplateID": "4aa422f0-a7ab-4b9c-a35b-b96d5828d859","question": "Sector (parent)","isSubQuestion": false,"parentQuestionID": null,"addedBy": "rick@shazamme.com","addedOn": "2023-10-26T21:51:15.133","changedBy": "rick@shazamme.com","changedOn": "2023-11-06T20:25:55.897","knockOutDate": null,"knockOutList": null,"knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "Multiselect Checkbox","helpText": null,"sortOrder": 2,"isMandatory": false,"length": null,"isHelpTextCollapse": false,"siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","options":[{"screeningQuestionOptionsID": "9186f3ab-3f86-4e4f-895b-1b437cb4678d","screeningQuestionID": "9a40b9c4-7e73-4a58-998a-37dbabd98207","option": "Rail and Infrastructure","sortOrder": 1,"label": null,"parentOptionID": null},{"screeningQuestionOptionsID": "2f18f423-cd6b-42de-995a-5454d0174751","screeningQuestionID": "9a40b9c4-7e73-4a58-998a-37dbabd98207","option": "Energy & Power","sortOrder": 2,"label": null,"parentOptionID": null},{"screeningQuestionOptionsID": "7dcaf192-442c-42c3-b116-5c255903c624","screeningQuestionID": "9a40b9c4-7e73-4a58-998a-37dbabd98207","option": "IT & Technology","sortOrder": 3,"label": null,"parentOptionID": null},{"screeningQuestionOptionsID": "8f0e5755-78d5-4863-bddb-f15037a550f4","screeningQuestionID": "9a40b9c4-7e73-4a58-998a-37dbabd98207","option": "Engineering and Manufacturing","sortOrder": 4,"label": null,"parentOptionID": null}]}},{"data": {"screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","screeningTemplateID": "4aa422f0-a7ab-4b9c-a35b-b96d5828d859","question": "Industry/Subsector","isSubQuestion": true,"parentQuestionID": "9a40b9c4-7e73-4a58-998a-37dbabd98207","addedBy": "rick@shazamme.com","addedOn": "2023-10-26T21:53:00.133","changedBy": "jeffrey@nymbl.app","changedOn": "2023-11-01T19:02:01.493","knockOutDate": null,"knockOutList": null,"knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "Multiselect Checkbox","helpText": null,"sortOrder": 3,"isMandatory": false,"length": null,"isHelpTextCollapse": false,"siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","options":[{"screeningQuestionOptionsID": "6bde5096-9bb4-47be-bd27-6af1f83c12c0","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Manufacturing - Semi Conductive","sortOrder": null,"label": null,"parentOptionID": "8f0e5755-78d5-4863-bddb-f15037a550f4"},{"screeningQuestionOptionsID": "c76e71b9-9c60-4cfd-8b37-56f24c442647","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Software - Data & BI","sortOrder": null,"label": null,"parentOptionID": "7dcaf192-442c-42c3-b116-5c255903c624"},{"screeningQuestionOptionsID": "f6e22d5e-214e-4bb5-bd66-53f5e9a85d80","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Hardware - Support","sortOrder": null,"label": null,"parentOptionID": "7dcaf192-442c-42c3-b116-5c255903c624"},{"screeningQuestionOptionsID": "0a766489-3c63-4121-b69c-937b130371ee","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Renewables - Wind","sortOrder": null,"label": null,"parentOptionID": "2f18f423-cd6b-42de-995a-5454d0174751"},{"screeningQuestionOptionsID": "5926daae-d756-484c-9666-87bdbb377bed","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Renewables - Solar","sortOrder": null,"label": null,"parentOptionID": "2f18f423-cd6b-42de-995a-5454d0174751"},{"screeningQuestionOptionsID": "c54ae572-e77f-4dab-84e1-d9122eb861d0","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Manufacturing - Heavy Industrial","sortOrder": null,"label": null,"parentOptionID": "8f0e5755-78d5-4863-bddb-f15037a550f4"},{"screeningQuestionOptionsID": "b5cfdd70-98fe-414d-b0ca-c77b1870e3ec","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Hardware - Infrastructure","sortOrder": null,"label": null,"parentOptionID": "7dcaf192-442c-42c3-b116-5c255903c624"},{"screeningQuestionOptionsID": "79fc8770-d5d8-4f9f-910e-c3448c273971","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Engineering - Heavy Industrial","sortOrder": null,"label": null,"parentOptionID": "8f0e5755-78d5-4863-bddb-f15037a550f4"},{"screeningQuestionOptionsID": "491b95d1-b9d0-4ad7-bc63-f92d687a9588","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Software - Information & Security","sortOrder": null,"label": null,"parentOptionID": "7dcaf192-442c-42c3-b116-5c255903c624"},{"screeningQuestionOptionsID": "b46bee3a-f17e-47ed-931b-364c8490ffce","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Engineering - Semi Conductive","sortOrder": null,"label": null,"parentOptionID": "8f0e5755-78d5-4863-bddb-f15037a550f4"},{"screeningQuestionOptionsID": "91eb3748-7ba3-4762-804f-f0a787fb97bd","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Railway/LUL/Light Transit - Civils","sortOrder": 1,"label": null,"parentOptionID": "9186f3ab-3f86-4e4f-895b-1b437cb4678d"},{"screeningQuestionOptionsID": "21c13e06-2ab9-42f1-9863-96e4dface4c8","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Railway/LUL/Light Transit - Safety Critical","sortOrder": 2,"label": null,"parentOptionID": "9186f3ab-3f86-4e4f-895b-1b437cb4678d"},{"screeningQuestionOptionsID": "875ad541-8048-459e-aea0-710f766f26b1","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Railway/LUL/Light Transit - Track","sortOrder": 3,"label": null,"parentOptionID": "9186f3ab-3f86-4e4f-895b-1b437cb4678d"},{"screeningQuestionOptionsID": "33cb5642-3c7b-4761-9826-5058bb012796","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Built Environment - Highways","sortOrder": 4,"label": null,"parentOptionID": "9186f3ab-3f86-4e4f-895b-1b437cb4678d"},{"screeningQuestionOptionsID": "61f7031a-1b6b-4ab0-b2a5-f267f8aef866","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Built Environment - Airports","sortOrder": 5,"label": null,"parentOptionID": "9186f3ab-3f86-4e4f-895b-1b437cb4678d"},{"screeningQuestionOptionsID": "f132e285-e703-46ac-a3e4-6dedddd0a0a1","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Utilities - Gas","sortOrder": 6,"label": null,"parentOptionID": "9186f3ab-3f86-4e4f-895b-1b437cb4678d"},{"screeningQuestionOptionsID": "bd90317d-d135-4a15-ad1c-4ca3cde7a053","screeningQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","option": "Utilities - Water","sortOrder": 7,"label": null,"parentOptionID": "9186f3ab-3f86-4e4f-895b-1b437cb4678d"}]}},{"data": {"screeningQuestionID": "191662ea-09be-4d4d-a2b0-ac1548608afa","screeningTemplateID": "4aa422f0-a7ab-4b9c-a35b-b96d5828d859","question": "Competencies","isSubQuestion": true,"parentQuestionID": "e133c7b6-8b19-4192-9b93-6ab4b49b2890","addedBy": "rick@shazamme.com","addedOn": "2023-10-26T21:55:30.493","changedBy": "khris.samaniego@nymbl.app","changedOn": "2023-11-06T15:51:02.577","knockOutDate": null,"knockOutList": null,"knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "Multiselect Checkbox","helpText": "Enter competencies relative to the selected industry","sortOrder": 4,"isMandatory": false,"length": null,"isHelpTextCollapse": true,"siteID": "854282ae-eebe-491b-a8fc-4ef502d60eb5","options":[{"screeningQuestionOptionsID": "ca73eeb3-40cc-410e-87c9-d6c294dea7ea","screeningQuestionID": "191662ea-09be-4d4d-a2b0-ac1548608afa","option": "CPCS","sortOrder": null,"label": null,"parentOptionID": "33cb5642-3c7b-4761-9826-5058bb012796"},{"screeningQuestionOptionsID": "a5ce98e6-377d-451b-960b-c90c3cb47cb3","screeningQuestionID": "191662ea-09be-4d4d-a2b0-ac1548608afa","option": "CSCS","sortOrder": null,"label": null,"parentOptionID": "bd90317d-d135-4a15-ad1c-4ca3cde7a053"},{"screeningQuestionOptionsID": "cbf2a5ab-1182-4a63-89b1-460d3fef1e13","screeningQuestionID": "191662ea-09be-4d4d-a2b0-ac1548608afa","option": "CSCS","sortOrder": null,"label": null,"parentOptionID": "61f7031a-1b6b-4ab0-b2a5-f267f8aef866"},{"screeningQuestionOptionsID": "e1b1ecbb-55a4-43b1-aaaa-4148032bea32","screeningQuestionID": "191662ea-09be-4d4d-a2b0-ac1548608afa","option": "PTS/Sentinal","sortOrder": null,"label": null,"parentOptionID": null},{"screeningQuestionOptionsID": "4347b4e2-6ef4-4f52-97db-3fb2d0bcf3ee","screeningQuestionID": "191662ea-09be-4d4d-a2b0-ac1548608afa","option": "CSCS","sortOrder": null,"label": null,"parentOptionID": "33cb5642-3c7b-4761-9826-5058bb012796"}]}}]'))||
shazamme.fetch(x.jobs).then(function(b){var d,c;return Promise.resolve(null==b?void 0:null==(d=b.find(function(g){return g.data.jobID===q}))?void 0:null==(c=d.data)?void 0:c.screeningTemplateID)}).then(function(b){return Promise.all([b,shazamme.fetch(x.questions)])}).then(function(b){var d;return Promise.resolve(null==(d=b[1])?void 0:d.filter(function(c){return c.data.screeningTemplateID===b[0]}))})})().then(function(b){b.forEach(function(c){pIndex=Math.floor((parseInt(c.data.sortOrder)||0)/100);
e._pages[pIndex]=e._pages[pIndex]||[];e._pages[pIndex].push(c.data)});for(var d=0;d<e._pages.length;d++)e._pages[d]||e._pages.splice(d,1);e._ko=b.filter(function(c){return c.data.knockOutDate||c.data.knockOutList||c.data.knockOutText||c.data.knockOutNumber||null!==c.data.knockOutBoolean}).map(function(c){return c.data});h()})})};$jscomp$this._showQuestions=function(a,h){h=void 0===h?!0:h;if(a>$jscomp$this.pageNumber&&!A()){var b=(null==n?void 0:n.warningScreeningQuestions)||"Please answer all questions";
(null==v?0:v.alertDialog({title:(null==n?void 0:n.warningScreeningQuestionsTitle)||"Error",message:b}))||alert(b)}else{$jscomp$this._recordAnswers();a>$jscomp$this._maxPage&&($jscomp$this._maxPage=a);b=($jscomp$this._pages[a]||[]).filter(function(c){return!c.parentQuestionID||e._answers[c.parentQuestionID]}).map(function(c){var g;return e._questionEl(Object.assign({},c,{options:null==(g=c.options)?void 0:g.filter(function(m){var p;return!c.parentQuestionID||0<=(null==(p=e._answers[c.parentQuestionID].answerUUID)?
void 0:p.indexOf(m.parentOptionID))})}))});r.empty().append(b).append(e._pagingElements(a));r.find(".sq-help-text[collapsible]").each(function(c,g){var m=$(g),p=$(m).outerHeight();m.find(".text-main").attr("style","--shaz-help-text-lines: "+(n.helpTextLines||3));if(m.outerHeight()<p)m.addClass("collapsible").on("click","[data-rel=button-show-more]",function(){$(this);m.hasClass("expanded")?(m.find(".text-main").css({display:"-webkit-box"}),m.removeClass("expanded")):(m.find(".text-main").css({display:"block"}),
m.addClass("expanded"))})});r.find("[data-rel=screening-page-index]").click(function(){var c=parseInt($(this).attr("data-page"))||0;e._showQuestions(c)});r.find("[data-qtype=file]").on("click",function(){var c=$(this),g=c.attr("data-qid"),m,p=null==(m=shazamme.bag("site-config"))?void 0:m.message;shazamme.pub(null==p?void 0:p.uploadShow,{showFiles:!0});var t=shazamme.sub(null==p?void 0:p.uploadSubmit,function(w){shazamme.unsub(t);shazamme.unsub(y);0<(null==w?void 0:w.length)&&(e._answers[g]={screeningQuestionID:g,
answerFile:w[0].content,answerFileName:w[0].name,screeningTemplateID:e._screeningTemplateID},c.hide().parents(".input-field-container").find("[data-rel=file-list]").empty().append(_fileEl(w[0]).on("click","[data-rel=action-remove]",function(){delete e._answers[g];c.show();$(this).parents("article").remove()})))}),y=shazamme.sub(null==p?void 0:p.uploadCancel,function(){shazamme.unsub(t);shazamme.unsub(y)})});var d;if(null==(d=$jscomp$this._pages[a])?0:d.find(function(c){return c.parentQuestionID}))r.find("input, select").on("change",
function(){e._recordAnswers();e._showQuestions(a,!1)});r.find("[data-rel=screening-apply]").click(function(){if(A())shazamme.pub(f.submit,{plugin:e,w:l});else{var c=(null==n?void 0:n.warningScreeningQuestions)||"Please answer all questions";(null==v?0:v.alertDialog({title:(null==n?void 0:n.warningScreeningQuestionsTitle)||"Error",message:c}))||alert(c)}});h&&(r.get(0).scrollIntoView(),window.scrollBy({top:-200,behavior:"smooth"}));$jscomp$this._restoreAnswers();$jscomp$this.pageNumber=a}};$jscomp$this._questionEl=
function(a){var h,b;if(0<(null==(h=a.parentQuestionID)?void 0:h.length)&&!(0<(null==(b=a.options)?void 0:b.length)))return"";switch(a.questionType){case "Text":var d;return'\n                             <div class="input-field-container">\n                                <label>\n                                <p class="sq-list-question">\n                                    '+a.question+"\n                                    "+(a.isMandatory?"*":"")+'\n                                    <input class="sq-input-text-style" type="text" maxlength='+
(a.length||-1)+' autocomplete="nope" data-qtype="text" data-qid="'+a.screeningQuestionID+'" '+(a.isMandatory?"required":"")+" />\n                                </p>\n                                </label>\n                                "+(0<(null==(d=a.helpText)?void 0:d.length)&&'\n                                <div class="sq-help-text" '+(a.isHelpTextCollapse?"collapsible":"")+'>\n                                    <p class="text-main">'+(a.helpText||"")+'</p>\n                                    <div class="section-read-more" style="text-align: '+
n.readMoreAlign+'">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">'+n.showMoreHelpText+"</a>\n                                    </div>\n                                </div>\n                                "||"")+"\n                            </div>\n                        ";case "Number":var c;return'\n                             <div class="input-field-container">\n                                <label>\n                                <p class="sq-list-question">\n                                    '+
a.question+"\n                                    "+(a.isMandatory?"*":"")+'\n                                </p>\n                                    <input type="number" autocomplete="nope" data-qtype="number" data-qid="'+a.screeningQuestionID+'" '+(a.isMandatory?"required":"")+" />\n                                </label>\n                                "+(0<(null==(c=a.helpText)?void 0:c.length)&&'\n                                <div class="sq-help-text" '+(a.isHelpTextCollapse?"collapsible":
"")+'>\n                                    <p class="text-main">'+(a.helpText||"")+'</p>\n                                    <div class="section-read-more" style="text-align: '+n.readMoreAlign+'">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">'+n.showMoreHelpText+"</a>\n                                    </div>\n                                </div>\n                                "||"")+"\n                            </div>\n                        ";
case "Date":var g;return'\n                             <div class="input-field-container">\n                                <label>\n                                <p class="sq-list-question">\n                                    '+a.question+"\n                                    "+(a.isMandatory?"*":"")+'\n                                 </p>\n                                    <input type="date" autocomplete="nope" data-qtype="date" data-qid="'+a.screeningQuestionID+'" '+(a.isMandatory?"required":
"")+" />\n\n                                </label>\n                                "+(0<(null==(g=a.helpText)?void 0:g.length)&&'\n                                <div class="sq-help-text" '+(a.isHelpTextCollapse?"collapsible":"")+'>\n                                    <p class="text-main">'+(a.helpText||"")+'</p>\n                                    <div class="section-read-more" style="text-align: '+n.readMoreAlign+"; --shaz-showMoreShadowColor: "+n.showMoreShadowColor+'">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">'+
n.showMoreHelpText+"</a>\n                                    </div>\n                                </div>\n                                "||"")+"\n                            </div>\n                        ";case "Boolean":var m;return'\n                             <div class="input-field-container">\n                                <label>\n                                    <p class="sq-boolean-question">\n                                        <input type="checkbox" autocomplete="nope" data-qtype="bool" data-qid="'+
a.screeningQuestionID+'" '+(a.isMandatory?"required":"")+"  />\n                                        "+a.question+"\n                                        "+(a.isMandatory?"*":"")+"\n                                    </p>\n                                </label>\n                                "+(0<(null==(m=a.helpText)?void 0:m.length)&&'\n                                <div class="sq-help-text" '+(a.isHelpTextCollapse?"collapsible":"")+'>\n                                    <p class="text-main">'+
(a.helpText||"")+'</p>\n                                    <div class="section-read-more" style="text-align: '+n.readMoreAlign+'">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">'+n.showMoreHelpText+"</a>\n                                    </div>\n                                </div>\n                                "||"")+"\n                            </div>\n                        ";case "List":var p=a.options.map(function(u){return'<option value="'+
u.screeningQuestionOptionsID+'">'+(u.label||u.option)+"</option>"}),t;return'\n                             <div class="input-field-container">\n                                <p class="sq-list-question">'+a.question+'</p>\n                                <select data-qtype="list" data-qid="'+a.screeningQuestionID+'" '+(a.isMandatory?"required":"")+">"+p.join("")+"</select>\n                                "+(0<(null==(t=a.helpText)?void 0:t.length)&&'\n                                <div class="sq-help-text" '+
(a.isHelpTextCollapse?"collapsible":"")+'>\n                                    <p class="text-main">'+(a.helpText||"")+'</p>\n                                    <div class="section-read-more" style="text-align: '+n.readMoreAlign+'">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">'+n.showMoreHelpText+"</a>\n                                    </div>\n                                </div>\n                                "||
"")+"\n                             </div>\n                        ";case "Multiselect Checkbox":return t=a.options.map(function(u){return'<label><input type="checkbox" autocomplete="nope" data-qtype="check-list" data-qid="'+a.screeningQuestionID+'" data-value="'+u.screeningQuestionOptionsID+'" />'+(u.label||u.option)+"</label>"}),'\n                             <div class="input-field-container">\n                                <p class="sq-checklist-question">\n                                    '+
a.question+"\n                                    "+(a.isMandatory?"*":"")+"\n                                </p>\n                                "+(0<(null==(p=a.helpText)?void 0:p.length)&&'\n                                <div class="sq-help-text" '+(a.isHelpTextCollapse?"collapsible":"")+'>\n                                    <p class="text-main">'+(a.helpText||"")+'</p>\n                                    <div class="section-read-more" style="text-align: '+n.readMoreAlign+'">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">'+
n.showMoreHelpText+"</a>\n                                    </div>\n                                </div>\n                                "||"")+"\n                                "+t.join("")+"\n                             </div>\n                        ";case "Radio":t=a.options.map(function(u){return'<label class="sq-question-option"><input type="radio" data-qtype="radio" name="'+a.screeningQuestionID+'" data-qid="'+a.screeningQuestionID+'" value="'+u.screeningQuestionOptionsID+'" '+(a.isMandatory?
"required":"")+" />"+(u.label||u.option)+"</label>"});var y;return'\n                             <div class="input-field-container">\n                                <p class="sq-radio-question">\n                                    '+a.question+"\n                                    "+(a.isMandatory?"*":"")+"\n                                </p>\n                                "+(0<(null==(y=a.helpText)?void 0:y.length)&&'\n                                <div class="sq-help-text" '+(a.isHelpTextCollapse?
"collapsible":"")+'>\n                                    <p class="text-main">'+(a.helpText||"")+'</p>\n                                    <div class="section-read-more" style="text-align: '+n.readMoreAlign+'">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">'+n.showMoreHelpText+"</a>\n                                    </div>\n                                </div>\n                                "||"")+'\n                                <div class="sq-opt-list">'+
t.join("")+"</div>\n                             </div>\n                        ";case "File":var w;return'\n                             <div class="input-field-container">\n                                <label>\n                                    <p class="sq-list-question">\n                                        '+a.question+"\n                                        "+(a.isMandatory?"*":"")+'\n                                    </p>\n                                </label>\n\n                                <button class="file" data-qtype="file" data-qid="'+
a.screeningQuestionID+'" '+(a.isMandatory?"required":"")+'>\n                                    <span class="text">'+((null==n?void 0:n.uploadButtonText)||"Select...")+'</span>\n                                </button>\n\n                                <div data-rel="file-list"></div>\n\n                                '+(0<(null==(w=a.helpText)?void 0:w.length)&&'\n                                <div class="sq-help-text" '+(a.isHelpTextCollapse?"collapsible":"")+'>\n                                    <p class="text-main">'+
(a.helpText||"")+'</p>\n                                    <div class="section-read-more" style="text-align: '+n.readMoreAlign+'">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">'+n.showMoreHelpText+"</a>\n                                    </div>\n                                </div>\n                                "||"")+"\n                            </div>\n                        ";case "Header":return"<div class='screening-question-heading'><h3>"+
a.question+"</h3</div>";default:return""}};$jscomp$this._fileEl=function(a){return $('\n                    <article class="item-file">\n                        <span class="text">'+(a.name||"(unknown)")+'</span>\n                        <button class="action-remove" data-rel="action-remove"><span class="text">X</span></button>\n                    </article>\n                ')};$jscomp$this._pagingElements=function(a){var h=[];h.push('<div data-rel="screening-pages" class="screening-pages-container" style="--shaz-text-align: '+
n.pagingButtonAlignment+'">');0<a&&h.push("<a href='javascript:void(0);' class=\"button-page-nav back\" data-rel='screening-page-index' data-page='"+(a-1)+'\'><span class="text">'+(n.prevPageButton||"Back")+"</span></a>");a<$jscomp$this._pages.length-1?h.push("<a href='javascript:void(0);' class=\"button-page-nav forward\" data-rel='screening-page-index' data-page='"+(a+1)+'\'><span class="text">'+(n.nextPageButton||"Next")+"</span></a>"):n.showApply&&h.push("<a href='javascript:void(0);' class=\"button-page-nav forward\" data-rel='screening-apply'><span class=\"text\">"+
(n.applyButton||"Apply")+"</span></a>");if(1<$jscomp$this._pages.length){for(var b=Array($jscomp$this._maxPage+1),d=0;d<b.length;d++)b[d]="<a href='javascript:void(0);' class=\"button-page-index "+(d===a?"active":"")+"\" data-rel='screening-page-index' data-page='"+d+"'></a>";for(a=b.length;a<$jscomp$this._pages.length;a++)b[a]="<a href='javascript:void(0);' class=\"button-page-index disabled\"></a>";h.push('<div class="sq-pages-index">'+b.join("")+"</div>")}h.push("</div>");return h.join("")};$jscomp$this._recordAnswers=
function(){r.find("input, select").each(function(a,h){var b=$(h);switch(b.attr("data-qtype")){case "text":e._answers[b.attr("data-qid")]={screeningQuestionID:b.attr("data-qid"),answerText:b.val(),screeningTemplateID:e._screeningTemplateID};break;case "number":e._answers[b.attr("data-qid")]={screeningQuestionID:b.attr("data-qid"),answerNum:parseInt(b.val()),screeningTemplateID:e._screeningTemplateID};break;case "date":e._answers[b.attr("data-qid")]={screeningQuestionID:b.attr("data-qid"),answerDate:b.val(),
screeningTemplateID:e._screeningTemplateID};break;case "bool":e._answers[b.attr("data-qid")]={screeningQuestionID:b.attr("data-qid"),answerBoolean:b.is(":checked")?1:0,screeningTemplateID:e._screeningTemplateID};break;case "list":e._answers[b.attr("data-qid")]={screeningQuestionID:b.attr("data-qid"),answerUUID:b.val(),screeningTemplateID:e._screeningTemplateID};break;case "check-list":var d=b.attr("data-qid"),c,g=(null==(c=e._answers[d])?void 0:c.answerUUID)||[];b.is(":checked")?0>g.indexOf(b.attr("data-value"))&&
g.push(b.attr("data-value")):0<=g.indexOf(b.attr("data-value"))&&g.splice(g.indexOf(b.attr("data-value")),1);0===g.length&&(g=void 0);e._answers[d]={screeningQuestionID:b.attr("data-qid"),answerUUID:g,screeningTemplateID:e._screeningTemplateID};break;case "radio":b.is(":checked")&&(e._answers[b.attr("data-qid")]={screeningQuestionID:b.attr("data-qid"),answerUUID:b.attr("value"),screeningTemplateID:e._screeningTemplateID});break;case "file":var m=0<b.get(0).files.length&&b.get(0).files[0];m&&e._readFile(m).then(function(p){e._answers[b.attr("data-qid")]=
{screeningQuestionID:b.attr("data-qid"),answerFile:p,answerFileName:m.name,screeningTemplateID:e._screeningTemplateID}})}})};$jscomp$this._restoreAnswers=function(){var a={},h;for(h in e._answers){a={qid:a.qid};a.qid=h;var b=e._answers[a.qid];a.qid=a.qid.split(":")[0];b.answerText||b.answerNum||b.answerDate?r.find("input[data-qid="+a.qid+"]").val(b.answerText||b.answerNum||b.answerDate):b.answerBoolean&&!b.answerUUID?r.find("input[data-qid="+a.qid+"]").attr("checked",!0):b.answerUUID?("string"===
typeof b.answerUUID&&(b.answerUUID=b.answerUUID.split(",")),b.answerUUID.forEach(function(d){return function(c){r.find("input[data-qid="+d.qid+"][data-value="+c.trim()+"]").attr("checked",!0);r.find("input[data-qid="+d.qid+"][value="+c.trim()+"]").attr("checked",!0);r.find("select[data-qid="+d.qid+"]").val(c.trim())}}(a))):b.answerFile&&r.find("input[data-qid="+a.qid+"]").val($jscomp$this._fileBlob(b.answerFile))}};$jscomp$this._readFile=function(a){return new Promise(function(h){var b=new FileReader;
b.addEventListener("load",function(){h(btoa(b.result))},!1);b.readAsBinaryString(a)})};$jscomp$this._fileBlob=function(a,h,b){h=void 0===h?"":h;b=void 0===b?512:b;a=atob(a);for(var d=[],c=0;c<a.length;c+=b){for(var g=a.slice(c,c+b),m=Array(g.length),p=0;p<g.length;p++)m[p]=g.charCodeAt(p);g=new Uint8Array(m);d.push(g)}return new Blob(d,{type:h})};$jscomp$this._showEditor=function(){var a=$('\n                    <div class="dialog dialog-knockout editor-only" data-rel="dialog" data-dialog="knockout">\n                        <div class="content" data-rel="dialog-content"></div>\n\n                        <div class="buttons">\n                            <button class="submit" data-rel="button-submit"><span class="text">OK</span></button>\n                            <button class="dismiss" data-rel="button-dismiss"><span class="text">Cancel</span></button>\n                        </div>\n                    </div>\n                ').appendTo(r),
h=function(d){if(d.knockOutDate)return(new Date(d.knockOutDate)).toLocaleDateString();if(d.knockOutList){var c,g;return null==(c=d.options)?void 0:null==(g=c.find(function(m){return m.screeningQuestionOptionsID===d.knockOutList}))?void 0:g.option}return d.knockOutText?d.knockOutText:d.knockOutNumber?d.knockOutNumber:null!==d.knockOutBoolean?d.knockOutBoolean?"Yes":"No":""},b=function(d){var c,g;return'\n                    <article data-rel="knockout" data-id="'+d.screeningQuestionID+'">\n                        <div class="row">\n                            <label>'+
d.question+"</label>\n                            <label>"+h(d)+'</label>\n                        </div>\n\n                        <div class="row">\n                            <label>\n                                Message\n                                <input type="text" data-rel="alert" placeholder="Sorry, we can accept you at this time." value="'+(d.alert||"")+'" />\n                            </label>\n\n                            <label>\n                                Redirect (Leave blank for no redirect)\n                                <input type="text" data-rel="redirect" placeholder="/reject" value="'+
(d.redirect||"")+'" />\n                            </label>\n                        </div>\n\n                        <div class="row">\n                            <label>\n                                Enable\n                                <input type="checkbox" data-rel="enable" '+(0<(null==(c=d.alert)?void 0:c.length)||0<(null==(g=d.redirect)?void 0:g.length)?'checked="checked"':"")+" />\n                            </label>\n                        </div>\n                    </article>\n                "};
0!==e._ko.length&&l.config().then(function(d){a.find("[data-rel=dialog-content]").empty().append(e._ko.map(function(g){var m;return b(Object.assign({},g,null==d?void 0:null==(m=d.knockout)?void 0:m.find(function(p){return p.screeningQuestionID===g.screeningQuestionID})))}));r.find(".button-editor").remove();$("<button />").text("Edit Knockout Handling").addClass("button-editor").on("click",function(){a.toggle()}).prependTo(r);var c=function(g){g=$(g.target);$("<input />").attr({type:"checkbox","data-rel":"enable",
checked:g.is(":checked")?"checked":null}).on("click",c).appendTo(g.parent());g.remove()};a.find("[data-rel=enable]").on("click",c);a.find("[data-rel=button-submit]").on("click",function(){var g=[];a.find("[data-rel=dialog-content] article [data-rel=enable]:checked").each(function(m,p){var t=$(p).parents("article");g.push({screeningQuestionID:t.attr("data-id"),alert:t.find("[data-rel=alert]").val(),redirect:t.find("[data-rel=redirect]").val()})});l.config().then(function(m){return l.config(Object.assign({},
m,{knockout:g}))}).then(function(){d.knockout=g});a.toggle()});a.find("[data-rel=button-dismiss]").on("click",function(){a.toggle();a.find("[data-rel=dialog-content]").empty().append(e._ko.map(function(g){var m;return b(Object.assign({},g,null==d?void 0:null==(m=d.knockout)?void 0:m.find(function(p){return p.screeningQuestionID===g.screeningQuestionID})))}));a.find("[data-rel=enable]").on("click",c)})})};l.log("Loading plugin: screening-questions (1.0.0)");shazamme.bag("plugin-screening-question",
{message:f,version:"1.0.0"});return $jscomp$this._fetchQuestions().then(function(){$jscomp$this._showQuestions(0,!1);z&&$jscomp$this._showEditor();return Promise.resolve({nextPage:C,prevPage:D,answers:B,loadAnswers:E,knockout:F,container:r,validate:A,message:f,version:"1.0.0"})})}})})();