(()=>{const e="1.0.0",t={submit:"screening-question-apply"};shazamme.style(`https://sdk.shazamme.io/js/plugin/screening-question/${e}/plugin.css`).then(),shazamme.plugin={...shazamme.plugin,screeningQuestions:(n,a)=>{const s=this,i=a?.jid,l=a?.config||{},o=a?.collection||{},r=!0===a?.editing,c=a?.container||$('<div data-rel="screening-fields"></div>'),d=shazamme.bag("site-config");this.pageNumber=0,this.isValid=!0;const u=()=>{this._showQuestions(this.pageNumber+1)},p=()=>{this._showQuestions(this.pageNumber-1)},f=()=>{let e=[];this._recordAnswers();for(let t in this._answers){let n={...this._answers[t]};"object"==typeof n.answerUUID&&n.answerUUID.length>0?e.push(...n.answerUUID.map((e=>new Object({screeningQuestionID:n.screeningQuestionID,answerUUID:e,screeningTemplateID:n.screeningTemplateID})))):e.push(n)}return{screeningTemplateID:this._screeningTemplateID,values:e}},g=e=>shazamme.site().then((t=>shazamme.submit({action:"Get Screening Answers",siteID:t.siteID,jobApplicationID:e}))).then((e=>{let t=[];return e?.response?.items?.forEach((e=>{t[e.screeningQuestionID]=e})),this._answers=t,this._restoreAnswers(),Promise.resolve(t)})),b=()=>{let e=f().values.map((e=>s._ko.find((t=>t.screeningQuestionID===e.screeningQuestionID&&("Text"===t.questionType&&e.answerText?.toLowerCase()===t.knockOutText?.toLowerCase()||"Number"===t.questionType&&e.answerNum===t.knockOutNumber||"Date"===t.questionType&&e.answerDate===t.knockOutDate||"Boolean"===t.questionType&&e.answerBoolean===t.knockOutBoolean||"List"===t.questionType&&e.answerUUID===t.knockOutList||"Multiselect Checkbox"===t.questionType&&(e.answerUUID?.indexOf(t.knockOutList)>=0||e.answerBoolean===t.knockOutBoolean)||"Radio"===t.questionType&&e.answerUUID===t.knockOutList))))).filter((e=>e));return!(e?.length>0)||(n.config().then((t=>{e.forEach((e=>{let n=t?.knockout?.find((t=>t.screeningQuestionID===e.screeningQuestionID));n?.alert?.length>0&&(d?.alertDialog({title:l?.screeningWarningTitle||"Error",message:n.alert,onClose:()=>{if(n?.redirect?.length>0){let e=r?`/site/${dudaAlias}${n.redirect}?preview=true&insitepreview=true&dm_device=desktop`:n.redirect;window.location=e}}})||(()=>{if(alert(n.alert),n?.redirect?.length>0){let e=r?`/site/${dudaAlias}${n.redirect}?preview=true&insitepreview=true&dm_device=desktop`:n.redirect;window.location=e}})())}))})),!1)},h=()=>{let e=!0;return c.find("input[required], select[required], button[required]").each(((t,n)=>{let a=$(n);switch(a.attr("data-qtype")){case"text":case"select":{let t=a.val();e=e&&t&&t.trim().length>0;break}case"bool":e=e&&a.is(":checked");break;case"number":e=e&&!isNaN(a.val());break;case"date":{let t=Date.parse(a.val());e=e&&!isNaN(t);break}case"radio":e=e&&c.find(`input[type=radio][name=${a.attr("name")}]`).is(":checked");break;case"file":e=e&&s._answers[a.attr("data-qid")]?.answerFile?.length>0}})),e};return this._pages=[],this._maxPage=0,this._answers=[],this._screeningTemplateID=void 0,this._fetchQuestions=()=>(d?.loadingDialog()?.appendTo(c),new Promise((e=>{(r&&!i&&Promise.resolve(JSON.parse('[{"page_item_url": "question-c8672398-537f-43f4-8333-dc9cb3647d8d","data":{"screeningQuestionID": "c8672398-537f-43f4-8333-dc9cb3647d8d","screeningTemplateID": "1d85c583-a792-4aff-b323-f7dec578ee1a","question": "Header","isSubQuestion": false,"parentQuestionID": null,"knockOutDate": null,"knockOutList": null,"knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "Header","helpText": "help text header","sortOrder": 1,"isMandatory": false,"length": null,"isHelpTextCollapse": false,"siteID": "1f654fc9-5dfd-4a5c-a54f-33d494cb26cc","defaultAnswer": null,"hide": false}},{"page_item_url": "question-cc741dcf-746a-4c09-b9cd-dd920ca18848","data":{"screeningQuestionID": "cc741dcf-746a-4c09-b9cd-dd920ca18848","screeningTemplateID": "1d85c583-a792-4aff-b323-f7dec578ee1a","question": "Boolean Field","isSubQuestion": false,"parentQuestionID": null,"knockOutDate": null,"knockOutList": null,"knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "Boolean","helpText": "help text boolena","sortOrder": 2,"isMandatory": false,"length": null,"isHelpTextCollapse": false,"siteID": "1f654fc9-5dfd-4a5c-a54f-33d494cb26cc","defaultAnswer": null,"hide": false}},{"page_item_url": "question-3a821d5a-eacb-42f0-8570-a763e2533d66","data":{"screeningQuestionID": "3a821d5a-eacb-42f0-8570-a763e2533d66","screeningTemplateID": "1d85c583-a792-4aff-b323-f7dec578ee1a","question": "Date field","isSubQuestion": false,"parentQuestionID": null,"knockOutDate": null,"knockOutList": null,"knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "Date","helpText": "help text date","sortOrder": 3,"isMandatory": false,"length": null,"isHelpTextCollapse": false,"siteID": "1f654fc9-5dfd-4a5c-a54f-33d494cb26cc","defaultAnswer": null,"hide": false}},{"page_item_url": "question-a1a059c7-c4c7-49b2-9583-42f8d0e5dbf0","data":{"screeningQuestionID": "a1a059c7-c4c7-49b2-9583-42f8d0e5dbf0","screeningTemplateID": "1d85c583-a792-4aff-b323-f7dec578ee1a","question": "File attachement","isSubQuestion": false,"parentQuestionID": null,"knockOutDate": null,"knockOutList": null,"knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "File","helpText": "help text file attachement","sortOrder": 4,"isMandatory": false,"length": null,"isHelpTextCollapse": false,"siteID": "1f654fc9-5dfd-4a5c-a54f-33d494cb26cc","defaultAnswer": null,"hide": false}},{"page_item_url": "question-ff81f8b5-526c-4a43-9a31-2c940d686284","data":{"screeningQuestionID": "ff81f8b5-526c-4a43-9a31-2c940d686284","screeningTemplateID": "1d85c583-a792-4aff-b323-f7dec578ee1a","question": "List Field","isSubQuestion": false,"parentQuestionID": null,"knockOutDate": null,"knockOutList": null,"knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "List","helpText": "help text list","sortOrder": 5,"isMandatory": false,"length": null,"isHelpTextCollapse": false,"siteID": "1f654fc9-5dfd-4a5c-a54f-33d494cb26cc","defaultAnswer": null,"hide": false,"screeningquestionoptions":[{"screeningQuestionOptionsID": "735fbde0-bfe4-4656-8726-773f0584b120","screeningQuestionID": "ff81f8b5-526c-4a43-9a31-2c940d686284","option": "option 2","sortOrder": null,"label": null,"parentOptionID": null},{"screeningQuestionOptionsID": "a5986c6b-df49-45ad-a4e0-e5de5f561f0c","screeningQuestionID": "ff81f8b5-526c-4a43-9a31-2c940d686284","option": "option 1","sortOrder": null,"label": null,"parentOptionID": null}],"options":[{"screeningQuestionOptionsID": "735fbde0-bfe4-4656-8726-773f0584b120","screeningQuestionID": "ff81f8b5-526c-4a43-9a31-2c940d686284","option": "option 2","sortOrder": null,"label": null,"parentOptionID": null},{"screeningQuestionOptionsID": "a5986c6b-df49-45ad-a4e0-e5de5f561f0c","screeningQuestionID": "ff81f8b5-526c-4a43-9a31-2c940d686284","option": "option 1","sortOrder": null,"label": null,"parentOptionID": null}]}},{"page_item_url": "question-82984c70-8733-41e4-a6fe-044b11478b77","data":{"screeningQuestionID": "82984c70-8733-41e4-a6fe-044b11478b77","screeningTemplateID": "1d85c583-a792-4aff-b323-f7dec578ee1a","question": "Multi Check Field","isSubQuestion": false,"parentQuestionID": null,"knockOutDate": null,"knockOutList": "cd4f03a7-6fc9-4413-a149-27ff8f1efccf","knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "Multiselect Checkbox","helpText": "help text multi check","sortOrder": 6,"isMandatory": false,"length": null,"isHelpTextCollapse": false,"siteID": "1f654fc9-5dfd-4a5c-a54f-33d494cb26cc","defaultAnswer": null,"hide": false,"screeningquestionoptions":[{"screeningQuestionOptionsID": "cd4f03a7-6fc9-4413-a149-27ff8f1efccf","screeningQuestionID": "82984c70-8733-41e4-a6fe-044b11478b77","option": "No","sortOrder": null,"label": null,"parentOptionID": null},{"screeningQuestionOptionsID": "fcf3d05d-a6ba-4ef7-b99e-c0d5643bbcc2","screeningQuestionID": "82984c70-8733-41e4-a6fe-044b11478b77","option": "Yes","sortOrder": null,"label": null,"parentOptionID": null}],"options":[{"screeningQuestionOptionsID": "cd4f03a7-6fc9-4413-a149-27ff8f1efccf","screeningQuestionID": "82984c70-8733-41e4-a6fe-044b11478b77","option": "No","sortOrder": null,"label": null,"parentOptionID": null},{"screeningQuestionOptionsID": "fcf3d05d-a6ba-4ef7-b99e-c0d5643bbcc2","screeningQuestionID": "82984c70-8733-41e4-a6fe-044b11478b77","option": "Yes","sortOrder": null,"label": null,"parentOptionID": null}]}},{"page_item_url": "question-d05ce73c-d8b7-4355-84c6-5abef43a6528","data":{"screeningQuestionID": "d05ce73c-d8b7-4355-84c6-5abef43a6528","screeningTemplateID": "1d85c583-a792-4aff-b323-f7dec578ee1a","question": "Radio Button","isSubQuestion": false,"parentQuestionID": null,"knockOutDate": null,"knockOutList": null,"knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "Radio","helpText": "help text radio","sortOrder": 7,"isMandatory": false,"length": null,"isHelpTextCollapse": false,"siteID": "1f654fc9-5dfd-4a5c-a54f-33d494cb26cc","defaultAnswer": null,"hide": false,"screeningquestionoptions":[{"screeningQuestionOptionsID": "7768eb27-7c30-4105-b451-0bfd994b5812","screeningQuestionID": "d05ce73c-d8b7-4355-84c6-5abef43a6528","option": "Yes","sortOrder": null,"label": null,"parentOptionID": null},{"screeningQuestionOptionsID": "8aadcca1-3af2-4ee2-a71a-65e2d11e8579","screeningQuestionID": "d05ce73c-d8b7-4355-84c6-5abef43a6528","option": "No","sortOrder": null,"label": null,"parentOptionID": null}],"options":[{"screeningQuestionOptionsID": "7768eb27-7c30-4105-b451-0bfd994b5812","screeningQuestionID": "d05ce73c-d8b7-4355-84c6-5abef43a6528","option": "Yes","sortOrder": null,"label": null,"parentOptionID": null},{"screeningQuestionOptionsID": "8aadcca1-3af2-4ee2-a71a-65e2d11e8579","screeningQuestionID": "d05ce73c-d8b7-4355-84c6-5abef43a6528","option": "No","sortOrder": null,"label": null,"parentOptionID": null}]}},{"page_item_url": "question-143386b4-2650-4b2c-b4d6-f934df354da7","data":{"screeningQuestionID": "143386b4-2650-4b2c-b4d6-f934df354da7","screeningTemplateID": "1d85c583-a792-4aff-b323-f7dec578ee1a","question": "Free Text Field","isSubQuestion": false,"parentQuestionID": null,"knockOutDate": null,"knockOutList": null,"knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "Text","helpText": "help text free text","sortOrder": 8,"isMandatory": false,"length": null,"isHelpTextCollapse": false,"siteID": "1f654fc9-5dfd-4a5c-a54f-33d494cb26cc","defaultAnswer": null,"hide": false}},{"page_item_url": "question-977af240-8639-47ac-a244-9f1a5eacd96a","data":{"screeningQuestionID": "977af240-8639-47ac-a244-9f1a5eacd96a","screeningTemplateID": "1d85c583-a792-4aff-b323-f7dec578ee1a","question": "MultiSelect List","isSubQuestion": false,"parentQuestionID": null,"knockOutDate": null,"knockOutList": null,"knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "Multiselect List","helpText": "help text multi list","sortOrder": 9,"isMandatory": false,"length": null,"isHelpTextCollapse": false,"siteID": "1f654fc9-5dfd-4a5c-a54f-33d494cb26cc","defaultAnswer": null,"hide": false,"screeningquestionoptions":[{"screeningQuestionOptionsID": "5d1f79a3-0cfd-47be-9c2b-b14b023b48ac","screeningQuestionID": "977af240-8639-47ac-a244-9f1a5eacd96a","option": "option 1","sortOrder": null,"label": null,"parentOptionID": null},{"screeningQuestionOptionsID": "34e6e720-6a84-4936-82f8-b9c1c6dba2f6","screeningQuestionID": "977af240-8639-47ac-a244-9f1a5eacd96a","option": "option 2","sortOrder": null,"label": null,"parentOptionID": null}],"options":[{"screeningQuestionOptionsID": "5d1f79a3-0cfd-47be-9c2b-b14b023b48ac","screeningQuestionID": "977af240-8639-47ac-a244-9f1a5eacd96a","option": "option 1","sortOrder": null,"label": null,"parentOptionID": null},{"screeningQuestionOptionsID": "34e6e720-6a84-4936-82f8-b9c1c6dba2f6","screeningQuestionID": "977af240-8639-47ac-a244-9f1a5eacd96a","option": "option 2","sortOrder": null,"label": null,"parentOptionID": null}]}},{"page_item_url": "question-e00713b8-00aa-4b4f-b864-e328de7e4fe7","data":{"screeningQuestionID": "e00713b8-00aa-4b4f-b864-e328de7e4fe7","screeningTemplateID": "1d85c583-a792-4aff-b323-f7dec578ee1a","question": "Number1","isSubQuestion": false,"parentQuestionID": null,"knockOutDate": null,"knockOutList": null,"knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "Number","helpText": "help text number","sortOrder": 10,"isMandatory": false,"length": null,"isHelpTextCollapse": false,"siteID": "1f654fc9-5dfd-4a5c-a54f-33d494cb26cc","defaultAnswer": null,"hide": false}},{"page_item_url": "question-b1627441-583a-4b0d-927a-c27565289887","data":{"screeningQuestionID": "b1627441-583a-4b0d-927a-c27565289887","screeningTemplateID": "1d85c583-a792-4aff-b323-f7dec578ee1a","question": "Rater??","isSubQuestion": false,"parentQuestionID": null,"knockOutDate": null,"knockOutList": null,"knockOutText": null,"knockOutNumber": null,"knockOutBoolean": null,"questionType": "Rater","helpText": "help text rater","sortOrder": 11,"isMandatory": false,"length": null,"isHelpTextCollapse": false,"siteID": "1f654fc9-5dfd-4a5c-a54f-33d494cb26cc","defaultAnswer": null,"hide": false}}]'))||shazamme.fetch(o.jobs).then((e=>Promise.resolve(e?.find((e=>e.data.jobID===i))?.data?.screeningTemplateID))).then((e=>Promise.all([e,shazamme.fetch(o.questions)]))).then((e=>Promise.resolve(e[1]?.filter((t=>t.data.screeningTemplateID===e[0])))))).then((t=>{s._screeningTemplateID=t.at(0)?.data.screeningTemplateID,t.forEach((e=>{let t=Math.floor((parseInt(e.data.sortOrder)||0)/100);s._pages[t]=s._pages[t]||[],s._pages[t].push(e.data)}));for(let e=0;e<s._pages.length;e++)s._pages[e]||s._pages.splice(e,1);s._ko=t.filter((e=>e.data.knockOutDate||e.data.knockOutList||e.data.knockOutText||e.data.knockOutNumber||null!==e.data.knockOutBoolean)).map((e=>e.data)),e()}))}))),this._showQuestions=(e,a=!0)=>{if(e>this.pageNumber&&!h()){let e=l?.warningScreeningQuestions||"Please answer all questions";return void(d?.alertDialog({title:l?.warningScreeningQuestionsTitle||"Error",message:e})||alert(e))}this._recordAnswers(),e>this._maxPage&&(this._maxPage=e);let i=(this._pages[e]||[]).filter((e=>!e.parentQuestionID||s._answers[e.parentQuestionID])).map((e=>s._questionEl({...e,options:e.screeningquestionoptions?.filter((t=>!e.parentQuestionID||s._answers[e.parentQuestionID].answerUUID?.indexOf(t.parentOptionID)>=0))})));c.empty().append(i).append(s._pagingElements(e)),c.find(".sq-help-text[collapsible]").each((function(e,t){let n=$(t),a=$(n).outerHeight();n.find(".text-main").attr("style",`--shaz-help-text-lines: ${l.helpTextLines||3}`),n.outerHeight()<a&&n.addClass("collapsible").on("click","[data-rel=button-show-more]",(function(){$(this);n.hasClass("expanded")?(n.find(".text-main").css({display:"-webkit-box"}),n.removeClass("expanded")):(n.find(".text-main").css({display:"block"}),n.addClass("expanded"))}))})),c.find("[data-rel=screening-page-index]").click((function(){let e=parseInt($(this).attr("data-page"))||0;s._showQuestions(e)})),c.find("[data-qtype=file]").on("click",(function(){let e=$(this),t=e.attr("data-qid");const n=shazamme.bag("site-config")?.message;shazamme.pub(n?.uploadShow,{showFiles:!0});let a=shazamme.sub(n?.uploadSubmit,(n=>{shazamme.unsub(a),shazamme.unsub(i),n?.length>0&&(s._answers[t]={screeningQuestionID:t,answerFile:n[0].content,answerFileName:n[0].name,screeningTemplateID:s._screeningTemplateID},e.hide().parents(".input-field-container").find("[data-rel=file-list]").empty().append(_fileEl(n[0]).on("click","[data-rel=action-remove]",(function(){delete s._answers[t],e.show(),$(this).parents("article").remove()}))))})),i=shazamme.sub(n?.uploadCancel,(()=>{shazamme.unsub(a),shazamme.unsub(i)}))})),this._pages[e]?.find((e=>e.parentQuestionID))&&c.find("input, select").on("change",(function(){s._recordAnswers(),s._showQuestions(e,!1)})),c.find("[data-rel=screening-apply]").click((function(){if(h())shazamme.pub(t.submit,{plugin:s,w:n});else{let e=l?.warningScreeningQuestions||"Please answer all questions";d?.alertDialog({title:l?.warningScreeningQuestionsTitle||"Error",message:e})||alert(e)}})),a&&(c.get(0).scrollIntoView(),window.scrollBy({top:-200,behavior:"smooth"})),this._restoreAnswers(),this.pageNumber=e},this._questionEl=e=>{if(e.parentQuestionID?.length>0&&!(e.options?.length>0))return"";switch(e.questionType){case"Text":return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">${e.question}</label>\n                                <input class="sq-input-text-style" type="text" maxlength=${e.length||-1} autocomplete="nope" data-qtype="text" data-qid="${e.screeningQuestionID}" ${e.isMandatory?"required":""} />\n                                ${e.helpText?.length>0&&`\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${l.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${l.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                                `||""}\n                            </div>\n                        `;case"Number":return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">${e.question}</label>\n                                <input type="number" autocomplete="nope" data-qtype="number" data-qid="${e.screeningQuestionID}" ${e.isMandatory?"required":""} />\n                                ${e.helpText?.length>0&&`\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${l.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${l.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                                `||""}\n                            </div>\n                        `;case"Date":return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">${e.question}</label>\n                                <input type="date" autocomplete="nope" data-qtype="date" data-qid="${e.screeningQuestionID}" ${e.isMandatory?"required":""} />\n                                ${e.helpText?.length>0&&`\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${l.readMoreAlign}; --shaz-showMoreShadowColor: ${l.showMoreShadowColor}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${l.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                                `||""}\n                            </div>\n                        `;case"Boolean":return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">${e.question}</label>\n                                    <p class="sq-boolean-question">\n                                        <input type="checkbox" autocomplete="nope" data-qtype="bool" data-qid="${e.screeningQuestionID}" ${e.isMandatory?"required":""}  />\n                                        ${e.question}\n                                    </p>\n                                </label>\n                                ${e.helpText?.length>0&&`\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${l.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${l.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                                `||""}\n                            </div>\n                        `;case"List":{let t=e.options.map((e=>`<option value="${e.screeningQuestionOptionsID}">${e.label||e.option}</option>`));return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">${e.question}</label>\n                                <select data-qtype="list" data-qid="${e.screeningQuestionID}" ${e.isMandatory?"required":""}>${t.join("")}</select>\n                                ${e.helpText?.length>0&&`\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${l.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${l.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                                `||""}\n                             </div>\n                        `}case"Multiselect List":case"Multiselect Checkbox":{let t=e.options.map((t=>`<label><input type="checkbox" autocomplete="nope" data-qtype="check-list" data-qid="${e.screeningQuestionID}" data-value="${t.screeningQuestionOptionsID}" />${t.label||t.option}</label>`));return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">${e.question}</label>\n                                ${e.helpText?.length>0&&`\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${l.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${l.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                                `||""}\n                                ${t.join("")}\n                             </div>\n                        `}case"Radio":{let t=e.options.map((t=>`<label class="sq-question-option"><input type="radio" data-qtype="radio" name="${e.screeningQuestionID}" data-qid="${e.screeningQuestionID}" value="${t.screeningQuestionOptionsID}" ${e.isMandatory?"required":""} />${t.label||t.option}</label>`));return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">${e.question}</label>\n                                ${e.helpText?.length>0&&`\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${l.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${l.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                                `||""}\n                                <div class="sq-opt-list">${t.join("")}</div>\n                             </div>\n                        `}case"File":return`\n                             <div class="input-field-container">\n                                <label class="text ${e.isMandatory?"required":""}">${e.question}</label>\n\n                                <button class="file" data-qtype="file" data-qid="${e.screeningQuestionID}" ${e.isMandatory?"required":""}>\n                                    <span class="text">${l?.uploadButtonText||"Select..."}</span>\n                                </button>\n\n                                <div class="sq-file-list" data-rel="file-list"></div>\n\n                                ${e.helpText?.length>0&&`\n                                <div class="sq-help-text" ${e.isHelpTextCollapse?"collapsible":""}>\n                                    <p class="text-main">${e.helpText||""}</p>\n                                    <div class="section-read-more" style="text-align: ${l.readMoreAlign}">\n                                        <a href="javascript: void(0);" class="button-show-more" data-rel="button-show-more">${l.showMoreHelpText}</a>\n                                    </div>\n                                </div>\n                                `||""}\n                            </div>\n                        `;case"Header":return`<div class='screening-question-heading'><h3>${e.question}</h3</div>`;default:return""}},this._fileEl=e=>$(`\n                    <article class="item-file">\n                        <span class="text">${e.name||"(unknown)"}</span>\n                        <button class="action-remove" data-rel="action-remove"><span class="text">X</span></button>\n                    </article>\n                `),this._pagingElements=e=>{let t=[];if(t.push(`<div data-rel="screening-pages" class="screening-pages-container" style="--shaz-text-align: ${l.pagingButtonAlignment}">`),e>0&&t.push(`<a href='javascript:void(0);' class="button-page-nav back" data-rel='screening-page-index' data-page='${e-1}'><span class="text">${l.prevPageButton||"Back"}</span></a>`),e<this._pages.length-1?t.push(`<a href='javascript:void(0);' class="button-page-nav forward" data-rel='screening-page-index' data-page='${e+1}'><span class="text">${l.nextPageButton||"Next"}</span></a>`):l.showApply&&t.push(`<a href='javascript:void(0);' class="button-page-nav forward" data-rel='screening-apply'><span class="text">${l.applyButton||"Apply"}</span></a>`),this._pages.length>1){let n=new Array(this._maxPage+1);for(let t=0;t<n.length;t++)n[t]=`<a href='javascript:void(0);' class="button-page-index ${t===e?"active":""}" data-rel='screening-page-index' data-page='${t}'></a>`;for(let e=n.length;e<this._pages.length;e++)n[e]="<a href='javascript:void(0);' class=\"button-page-index disabled\"></a>";t.push(`<div class="sq-pages-index">${n.join("")}</div>`)}return t.push("</div>"),t.join("")},this._recordAnswers=()=>{c.find("input, select").each(((e,t)=>{let n=$(t);switch(n.attr("data-qtype")){case"text":n.val()?s._answers[n.attr("data-qid")]={screeningQuestionID:n.attr("data-qid"),answerText:n.val(),screeningTemplateID:s._screeningTemplateID}:delete s._answers[n.attr("data-qid")];break;case"number":n.val()?s._answers[n.attr("data-qid")]={screeningQuestionID:n.attr("data-qid"),answerNum:parseInt(n.val()),screeningTemplateID:s._screeningTemplateID}:delete s._answers[n.attr("data-qid")];break;case"date":n.val()?s._answers[n.attr("data-qid")]={screeningQuestionID:n.attr("data-qid"),answerDate:n.val(),screeningTemplateID:s._screeningTemplateID}:delete s._answers[n.attr("data-qid")];break;case"bool":s._answers[n.attr("data-qid")]={screeningQuestionID:n.attr("data-qid"),answerBoolean:n.is(":checked")?1:0,screeningTemplateID:s._screeningTemplateID};break;case"list":n.val()?s._answers[n.attr("data-qid")]={screeningQuestionID:n.attr("data-qid"),answerUUID:n.val(),screeningTemplateID:s._screeningTemplateID}:delete s._answers[n.attr("data-qid")];break;case"check-list":{let e=n.attr("data-qid"),t=s._answers[e]?.answerUUID||[];n.is(":checked")?t.indexOf(n.attr("data-value"))<0&&t.push(n.attr("data-value")):t.indexOf(n.attr("data-value"))>=0&&t.splice(t.indexOf(n.attr("data-value")),1),0===t.length?delete s._answers[n.attr("data-qid")]:s._answers[e]={screeningQuestionID:n.attr("data-qid"),answerUUID:t,screeningTemplateID:s._screeningTemplateID};break}case"radio":n.is(":checked")&&(s._answers[n.attr("data-qid")]={screeningQuestionID:n.attr("data-qid"),answerUUID:n.attr("value"),screeningTemplateID:s._screeningTemplateID})}}))},this._restoreAnswers=()=>{for(let e in s._answers){let t=s._answers[e];e=e.split(":")[0],0!==c.find(`input[data-qid=${e}]:visible, select[data-qid=${e}]:visible`).length?t.answerText||t.answerNum||t.answerDate?c.find(`input[data-qid=${e}]`).val(t.answerText||t.answerNum||t.answerDate):t.answerBoolean&&!t.answerUUID?c.find(`input[data-qid=${e}]`).attr("checked",!0):t.answerUUID?("string"==typeof t.answerUUID&&(t.answerUUID=t.answerUUID.split(",")),t.answerUUID.forEach((t=>{c.find(`input[data-qid=${e}][data-value=${t.trim()}]`).attr("checked",!0),c.find(`input[data-qid=${e}][value=${t.trim()}]`).attr("checked",!0),c.find(`select[data-qid=${e}]`).val(t.trim())}))):t.answerFile&&c.find(`input[data-qid=${e}]`).val(this._fileBlob(t.answerFile)):delete s._answers[e]}},this._readFile=e=>new Promise((t=>{let n=new FileReader;n.addEventListener("load",(()=>{t(btoa(n.result))}),!1),n.readAsBinaryString(e)})),this._fileBlob=(e,t="",n=512)=>{const a=atob(e),s=[];for(let e=0;e<a.length;e+=n){const t=a.slice(e,e+n),i=new Array(t.length);for(let e=0;e<t.length;e++)i[e]=t.charCodeAt(e);const l=new Uint8Array(i);s.push(l)}return new Blob(s,{type:t})},this._showEditor=()=>{const e=$('\n                    <div class="dialog dialog-knockout editor-only" data-rel="dialog" data-dialog="knockout">\n                        <div class="content" data-rel="dialog-content"></div>\n\n                        <div class="buttons">\n                            <button class="submit" data-rel="button-submit"><span class="text">OK</span></button>\n                            <button class="dismiss" data-rel="button-dismiss"><span class="text">Cancel</span></button>\n                        </div>\n                    </div>\n                ').appendTo(c),t=e=>`\n                    <article data-rel="knockout" data-id="${e.screeningQuestionID}">\n                        <div class="row">\n                            <label>${e.question}</label>\n                            <label>${(e=>e.knockOutDate?new Date(e.knockOutDate).toLocaleDateString():e.knockOutList?e.options?.find((t=>t.screeningQuestionOptionsID===e.knockOutList))?.option:e.knockOutText?e.knockOutText:e.knockOutNumber?e.knockOutNumber:null!==e.knockOutBoolean?e.knockOutBoolean?"Yes":"No":"")(e)}</label>\n                        </div>\n\n                        <div class="row">\n                            <label>\n                                Message\n                                <input type="text" data-rel="alert" placeholder="Sorry, we can accept you at this time." value="${e.alert||""}" />\n                            </label>\n\n                            <label>\n                                Redirect (Leave blank for no redirect)\n                                <input type="text" data-rel="redirect" placeholder="/reject" value="${e.redirect||""}" />\n                            </label>\n                        </div>\n\n                        <div class="row">\n                            <label>\n                                Enable\n                                <input type="checkbox" data-rel="enable" ${e.alert?.length>0||e.redirect?.length>0?'checked="checked"':""} />\n                            </label>\n                        </div>\n                    </article>\n                `;0!==s._ko.length&&n.config().then((a=>{e.find("[data-rel=dialog-content]").empty().append(s._ko.map((e=>t({...e,...a?.knockout?.find((t=>t.screeningQuestionID===e.screeningQuestionID))})))),c.find(".button-editor").remove(),$("<button />").text("Edit Knockout Handling").addClass("button-editor").on("click",(function(){e.toggle()})).prependTo(c);const i=e=>{let t=$(e.target);$("<input />").attr({type:"checkbox","data-rel":"enable",checked:t.is(":checked")?"checked":null}).on("click",i).appendTo(t.parent()),t.remove()};e.find("[data-rel=enable]").on("click",i),e.find("[data-rel=button-submit]").on("click",(function(){let t=a?.knockout||[];e.find("[data-rel=dialog-content] article [data-rel=enable]").each(((e,n)=>{let a=$(n).parents("article"),s=t.find((e=>e.screeningQuestionID===a.attr("data-id")));s&&t.splice(t.indexOf(s),1),$(n).is(":checked")&&t.push({screeningQuestionID:a.attr("data-id"),alert:a.find("[data-rel=alert]").val(),redirect:a.find("[data-rel=redirect]").val()})})),n.config().then((e=>n.config({...e,knockout:t}))).then((()=>{a.knockout=t})),e.toggle()})),e.find("[data-rel=button-dismiss]").on("click",(function(){e.toggle(),e.find("[data-rel=dialog-content]").empty().append(s._ko.map((e=>t({...e,...a?.knockout?.find((t=>t.screeningQuestionID===e.screeningQuestionID))})))),e.find("[data-rel=enable]").on("click",i)}))}))},n.log(`Loading plugin: screening-questions (${e})`),shazamme.bag("plugin-screening-question",{message:t,version:e}),this._fetchQuestions().then((()=>(this._showQuestions(0,!1),r&&this._showEditor(),Promise.resolve({nextPage:u,prevPage:p,answers:f,loadAnswers:g,knockout:b,container:c,validate:h,message:t,version:e}))))}}})();